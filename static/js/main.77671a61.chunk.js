(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{16:function(t,e,n){t.exports={contactForm:"ContactForm_contactForm__2gbDj",contactFormLabel:"ContactForm_contactFormLabel__35pep",contactFormBtn:"ContactForm_contactFormBtn__3smwP"}},17:function(t,e,n){t.exports={TaskList:"ContactList_TaskList__36Oh3",contactListItem:"ContactList_contactListItem__2tSyA",contactListBtn:"ContactList_contactListBtn__126-g",enter:"ContactList_enter__3ZDan",enterActive:"ContactList_enterActive__2Pvyp",exit:"ContactList_exit__1XnfU",exitActive:"ContactList_exitActive__2arZ0"}},20:function(t,e,n){t.exports={container:"ErrorNotification_container__Bgrc8",text:"ErrorNotification_text__1nDvR",enter:"ErrorNotification_enter__1e-4K",enterActive:"ErrorNotification_enterActive__2P6S0",exit:"ErrorNotification_exit__3yYg_",exitActive:"ErrorNotification_exitActive__xmAHp"}},26:function(t,e,n){t.exports={contactFormLabel:"Filter_contactFormLabel__3gjEk",appear:"Filter_appear__2B27S",appearActive:"Filter_appearActive__klHUs"}},27:function(t,e,n){t.exports={appear:"App_appear__2hjIt",appearActive:"App_appearActive__3cUAQ",title:"App_title__1tTwm"}},67:function(t,e,n){"use strict";n.r(e);var c,a,o=n(1),r=n(0),i=n(9),s=n.n(i),u=n(10),b=n(11),l=n(14),d=n(13),m=n(36),j=n(2),f=n(16),h=n.n(f),p=n(8),O=n(19),C=n.n(O),_=n(3),v={addContactRequest:Object(_.b)("contacts/addRequest"),addContactSuccess:Object(_.b)("contacts/addSuccess"),addContactError:Object(_.b)("contacts/addError"),fetchContactRequest:Object(_.b)("contacts/fetchRequest"),fetchContactSuccess:Object(_.b)("contacts/fetchSuccess"),fetchContactError:Object(_.b)("contacts/fetchError"),removeContactRequest:Object(_.b)("contacts/removeRequest"),removeContactSuccess:Object(_.b)("contacts/removeSuccess"),removeContactError:Object(_.b)("contacts/removeError"),filterContact:Object(_.b)("FILTER_CONTACTS")},x={addContact:function(t){var e=t.name,n=t.number;return function(t){t(v.addContactRequest()),C.a.post("http://localhost:2000/contacts",{name:e,number:n}).then((function(e){var n=e.data;t(v.addContactSuccess(n))})).catch((function(e){return t(v.addContactError(e))}))}},fetchContact:function(){return function(t){t(v.fetchContactRequest()),C.a.get("http://localhost:2000/contacts").then((function(e){var n=e.data;t(v.fetchContactSuccess(n))})).catch((function(e){return t(v.fetchContactError(e))}))}},removeContact:function(t){return function(e){e(v.removeContactRequest()),C.a.delete("http://localhost:2000/contacts/".concat(t)).then((function(){e(v.removeContactSuccess(t))})).catch((function(t){return e(v.removeContactError(t))}))}}},L=n(68),F=n(20),A=n.n(F),S=function(t){var e=t.contactAdded;return Object(o.jsx)(L.a,{in:e,timeout:250,classNames:A.a,unmountOnExit:!0,children:Object(o.jsx)("div",{className:A.a.container,children:Object(o.jsx)("p",{className:A.a.text,children:"Contact already declared"})})})},g=function(t){return t.contacts.loading},E=function(t){return t.contacts.filter},N=function(t){return t.contacts.items},y=function(t){return t.contacts.items.filter((function(e){return e.name.toLowerCase().includes(t.contacts.filter.toLowerCase())}))},R=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",contactAdded:!1},t.handleChange=function(e){var n=e.target;t.setState(Object(j.a)({},n.name,n.value))},t.handleSubmit=function(e){if(e.preventDefault(),t.props.list.some((function(e){return e.name===t.state.name})))return t.setState({contactAdded:!0}),void setTimeout((function(){return t.setState({contactAdded:!1})}),2e3);t.props.addContact(Object(m.a)({},t.state)),t.setState({name:"",number:""})},t}return Object(b.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.contactAdded;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(S,{contactAdded:c}),Object(o.jsxs)("form",{action:"submit",onSubmit:this.handleSubmit,className:h.a.contactForm,children:[Object(o.jsx)("label",{htmlFor:"name",className:h.a.contactFormLabel,children:"Name"}),Object(o.jsx)("input",{type:"text",name:"name",value:e,placeholder:"name",onChange:this.handleChange}),Object(o.jsx)("label",{htmlFor:"number",className:h.a.contactFormLabel,children:"Number"}),Object(o.jsx)("input",{type:"tel",name:"number",placeholder:"number",value:n,onChange:this.handleChange}),Object(o.jsx)("input",{type:"submit",value:"Add contact",className:h.a.contactFormBtn})]})]})}}]),n}(r.Component),k={addContact:x.addContact},q=Object(p.b)((function(t){return{list:N(t)}}),k)(R),w=n(17),B=n.n(w),T=n(69),I=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var t=this;return Object(o.jsx)(T.a,{component:"ul",className:B.a.TaskList,children:this.props.list.map((function(e){return Object(o.jsx)(L.a,{timeout:250,classNames:B.a,children:Object(o.jsxs)("li",{className:B.a.contactListItem,children:[e.name," : ",e.number,Object(o.jsx)("button",{type:"button",onClick:function(){return t.props.deleteList(e.id)},className:B.a.contactListBtn,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})},e.id)}))})}}]),n}(r.Component),D={deleteList:x.removeContact},P=Object(p.b)((function(t){return{list:y(t)}}),D)(I),U=n(26),H=n.n(U),J={filterRender:v.filterContact},Z=Object(p.b)((function(t){return{filter:E(t)}}),J)((function(t){var e=t.filterRender,n=t.filter;return Object(o.jsx)(L.a,{in:!0,appear:!0,timeout:500,classNames:H.a,unmountOnExit:!0,children:Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"name",className:H.a.contactFormLabel,children:"Find contacts by name"}),Object(o.jsx)("input",{type:"text",value:n,onChange:function(t){return e(t.target.value)}})]})})})),K=n(27),M=n.n(K),Q=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContact()}},{key:"render",value:function(){return Object(o.jsxs)(o.Fragment,{children:[this.props.isLoading&&Object(o.jsx)("h1",{children:"Loading..."}),Object(o.jsx)(L.a,{in:!0,appear:!0,timeout:500,classNames:M.a,unmountOnExit:!0,children:Object(o.jsx)("h1",{className:M.a.title,children:"Phonebook"})}),Object(o.jsx)(q,{}),Object(o.jsx)("h2",{children:"Contacts"}),Object(o.jsx)(Z,{}),Object(o.jsx)(P,{})]})}}]),n}(r.Component),X={onFetchContact:x.fetchContact},Y=Object(p.b)((function(t){return{isLoading:g(t)}}),X)(Q),z=n(38),G=n(7),V=[],W="",$=Object(_.c)(V,(c={},Object(j.a)(c,v.addContactSuccess,(function(t,e){return[].concat(Object(z.a)(t),[e.payload])})),Object(j.a)(c,v.fetchContactSuccess,(function(t,e){return e.payload})),Object(j.a)(c,v.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),tt=Object(_.c)(!1,(a={},Object(j.a)(a,v.addContactRequest,(function(){return!0})),Object(j.a)(a,v.addContactSuccess,(function(){return!1})),Object(j.a)(a,v.addContactError,(function(){return!1})),Object(j.a)(a,v.fetchContactRequest,(function(){return!0})),Object(j.a)(a,v.fetchContactSuccess,(function(){return!1})),Object(j.a)(a,v.fetchContactError,(function(){return!1})),Object(j.a)(a,v.removeContactRequest,(function(){return!0})),Object(j.a)(a,v.removeContactSuccess,(function(){return!1})),Object(j.a)(a,v.removeContactError,(function(){return!1})),a)),et=Object(_.c)(W,Object(j.a)({},v.filterContact,(function(t,e){return e.payload}))),nt=Object(G.c)({items:$,loading:tt,filter:et}),ct=Object(_.a)({reducer:{contacts:nt}});s.a.render(Object(o.jsx)(p.a,{store:ct,children:Object(o.jsx)(Y,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.77671a61.chunk.js.map